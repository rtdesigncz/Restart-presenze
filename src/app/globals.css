@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== TOKENS ==== */
:root {
  --brand: #1ab4b8;
  --brand-ink: #0e7679;
  --ink: #0f172a;
  --muted: #64748b;
  --bg: #f8fafc;
  --surface: #ffffff;
  --line: #e5e7eb;
}

html, body {
  height: 100%;
  background: var(--bg);
  color: var(--ink);
}

@layer base {
  .font-sans {
    font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  h1, h2, h3 { @apply font-semibold tracking-[-0.01em]; }

  /* Stile base tabelle */
  table th { @apply text-[11px] uppercase tracking-wide text-slate-500 text-left; }
  table td { @apply text-[13px] text-slate-800 text-left; }
}

@layer components {
  /* === BUTTONS === */
  .btn { @apply inline-flex items-center justify-center rounded-md border text-sm px-3 py-2 transition; }
  .btn-xs { @apply text-xs px-2 py-1; }
  .btn-brand { background: var(--brand); color:#fff; border-color:var(--brand); }
  .btn-brand:hover { @apply opacity-90; }
  .btn-ghost { @apply bg-white border-slate-200 hover:bg-slate-50; }
  .btn-danger { @apply text-white; background:#ef4444; border-color:#ef4444; }
  .btn-danger:hover { @apply opacity-90; }

  .btn-icon { @apply rounded-md border; width:34px; height:34px; }
  .btn-icon-xs { width:30px; height:30px; }

  /* === INPUTS === */
  .input { @apply w-full min-w-0 block border rounded-md px-2 py-1 text-sm bg-white h-9; }
  .select { @apply w-full min-w-0 block border rounded-md px-2 py-1 text-sm bg-white h-9; }

  /* === CARDS / TAGS === */
  .card { @apply border rounded-lg bg-[var(--surface)]; }
  .tag {
    @apply inline-flex items-center rounded-full border text-[12px] px-2 py-1;
    border-color: var(--brand);
    color: #0e7679;
    background: #e6fbfc;
  }

  /* === TABLES === */
  .table-flat thead { @apply bg-slate-50; }
  .table-flat th, .table-flat td { @apply align-top; }
  .table-compact th, .table-compact td { @apply px-2 py-1; }
  .table-flat tbody tr:hover { @apply bg-slate-50; }

  /* Divider verticali tra colonne */
  .table-dividers th, .table-dividers td { border-right: 1px solid var(--line); }
  .table-dividers th:last-child, .table-dividers td:last-child { border-right: none; }

  /* Celle standard per intestazioni e corpo */
  .th { @apply px-3 py-2 text-left text-slate-600 text-xs font-semibold whitespace-nowrap; }
  .td { @apply px-3 py-2 align-middle text-slate-800; }

  /* Azioni */
  .actions-cell { @apply whitespace-normal; }
  .actions-cell .btn { @apply btn-xs; }
  .actions-icons { @apply flex flex-wrap gap-2; }

  /* Icon button compatto */
  .icon-btn {
    @apply h-8 w-8 rounded-lg border border-slate-300 bg-white flex items-center justify-center
           hover:bg-slate-50 active:scale-[.98];
  }
}

/* Checkbox pi√π grandi */
input[type="checkbox"].check-lg {
  width: 18px;
  height: 18px;
  accent-color: var(--brand);
}

/* Spinner a pallini */
.spinner-dots { display:inline-flex; gap:6px; align-items:center; }
.spinner-dots .dot { width:6px; height:6px; border-radius:999px; background:var(--brand); animation:bounce 1s infinite ease-in-out; }
.spinner-dots .dot:nth-child(2) { animation-delay:.15s; }
.spinner-dots .dot:nth-child(3) { animation-delay:.3s; }

@keyframes bounce {
  0%,80%,100%{ transform:scale(.6); opacity:.6 }
  40%{ transform:scale(1); opacity:1 }
}